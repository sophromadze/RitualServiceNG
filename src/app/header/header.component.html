<header class="site-header">
    <nav class="navbar" role="navigation" aria-label="Main navigation">
      <div class="nav-container">
        
        <!-- Logo and Company Name -->
        <div class="logo-section">
          <a [routerLink]="[currentLanguage]" class="logo-link">
            <img src="/images/logo.png" 
                 alt="რიტუალ სერვისი - დამკრძალავი ბიურო" 
                 class="logo-img"
                 width="60" 
                 height="60">
            <h1 class="company-name">{{translate('header.company_name')}}</h1>
          </a>
        </div>
  
        <!-- Desktop Navigation -->
        <div class="desktop-nav">
          <div class="nav-menu">
            
            <!-- Services Dropdown -->
            <div class="dropdown nav-item" 
                 [class.active]="isServicesDropdownOpen"
                 (mouseenter)="toggleServicesDropdown()"
                 (mouseleave)="closeAllDropdowns()">
              <button class="dropdown-trigger" 
                      [attr.aria-expanded]="isServicesDropdownOpen"
                      aria-haspopup="true">
                {{translate('nav.services')}} 
                <i class="fa-solid fa-chevron-down"></i>
              </button>
              
              <div class="dropdown-menu services-dropdown" 
                   [class.show]="isServicesDropdownOpen"
                   role="menu">
                <div class="dropdown-header">
                  <h3>{{translate('seo.funeral_services')}}</h3>
                  <p>დამკრძალავი ბიურო - damkrdzalavi biuro</p>
                </div>
                
                <div class="dropdown-grid">
                  <a *ngFor="let service of getCurrentServices()" 
                     [href]="service.url"
                     class="dropdown-item service-item"
                     (click)="navigateTo(service.url); $event.preventDefault()"
                     role="menuitem">
                    <span class="service-name">{{service.name}}</span>
                    <small class="service-keywords">{{service.keywords}}</small>
                  </a>
                </div>
                
                <div class="dropdown-footer">
                  <a [href]="'/' + currentLanguage + '/services'" 
                     class="view-all-link"
                     (click)="navigateTo('/' + currentLanguage + '/services'); $event.preventDefault()">
                    {{translate('cta.learn_more')}} →
                  </a>
                </div>
              </div>
            </div>
  
            <!-- Products Dropdown -->
            <div class="dropdown nav-item"
                 [class.active]="isProductsDropdownOpen"
                 (mouseenter)="toggleProductsDropdown()"
                 (mouseleave)="closeAllDropdowns()">
              <button class="dropdown-trigger"
                      [attr.aria-expanded]="isProductsDropdownOpen" 
                      aria-haspopup="true">
                {{translate('nav.products')}}
                <i class="fa-solid fa-chevron-down"></i>
              </button>
              
              <div class="dropdown-menu products-dropdown"
                   [class.show]="isProductsDropdownOpen"
                   role="menu">
                <div class="dropdown-header">
                  <h3>სარიტუალო პროდუქცია</h3>
                  <p>სასახლეები, სუდარები, მაცივრები</p>
                </div>
                
                <div class="dropdown-grid">
                  <a *ngFor="let product of getCurrentProducts()"
                     [href]="product.url" 
                     class="dropdown-item product-item"
                     (click)="navigateTo(product.url); $event.preventDefault()"
                     role="menuitem">
                    <span class="product-name">{{product.name}}</span>
                    <small class="product-keywords">{{product.keywords}}</small>
                  </a>
                </div>
                
                <div class="dropdown-footer">
                  <a [href]="'/' + currentLanguage + '/products'"
                     class="view-all-link"
                     (click)="navigateTo('/' + currentLanguage + '/products'); $event.preventDefault()">
                    {{translate('cta.learn_more')}} →
                  </a>
                </div>
              </div>
            </div>
  
            <!-- Direct Navigation Links -->
            <a [routerLink]="[currentLanguage, 'about']" 
               class="nav-link"
               routerLinkActive="active">
              {{translate('nav.about')}}
            </a>
            
            <a [routerLink]="[currentLanguage, 'contact']"
               class="nav-link" 
               routerLinkActive="active">
              {{translate('nav.contact')}}
            </a>
            
            <a [routerLink]="[currentLanguage, 'locations']"
               class="nav-link"
               routerLinkActive="active">
              {{translate('nav.locations')}}
            </a>
          </div>
  
          <!-- Phone and Language -->
          <div class="header-actions">
            <a href="tel:+995599069898" 
               class="phone-link"
               (click)="callPhone(); $event.preventDefault()"
               title="{{translate('header.call_24_7')}}">
              <i class="fa-solid fa-phone"></i>
              <span class="phone-number">{{translate('header.phone')}}</span>
            </a>
            
            <app-language-selector 
              [currentLanguage]="currentLanguage"
              (languageChange)="onLanguageChange($event)">
            </app-language-selector>
            
            <!-- Social Links -->
            <div class="social-links">
              <a href="https://www.facebook.com/profile.php?id=100075978162042" 
                 target="_blank" 
                 rel="noopener noreferrer"
                 class="social-link facebook"
                 title="Facebook">
                <i class="fa-brands fa-square-facebook fa-2x"></i>
              </a>
              <a href="https://www.memento.ge/" 
                 target="_blank"
                 rel="noopener noreferrer" 
                 class="social-link memento"
                 title="Memento">
                <img src="/images/memento.svg" 
                     alt="Memento"
                     width="34"
                     height="34">
              </a>
            </div>
          </div>
        </div>
  
        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle"
                (click)="toggleMobileMenu()"
                [attr.aria-expanded]="isMenuOpen"
                aria-label="Toggle mobile menu">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
      </div>
  
      <!-- Mobile Navigation -->
      <div class="mobile-nav" 
           [class.open]="isMenuOpen"
           role="navigation"
           aria-label="Mobile navigation">
        
        <!-- Mobile Services -->
        <div class="mobile-nav-section">
          <button class="mobile-section-toggle"
                  (click)="toggleServicesDropdown()">
            {{translate('nav.services')}}
            <i class="fa-solid fa-chevron-down" 
               [class.rotated]="isServicesDropdownOpen"></i>
          </button>
          
          <div class="mobile-dropdown" 
               [class.open]="isServicesDropdownOpen">
            <div class="mobile-dropdown-header">
              <h4>დამკრძალავი ბიურო - damkrdzalavi biuro</h4>
            </div>
            <a *ngFor="let service of getCurrentServices()"
               [href]="service.url"
               class="mobile-nav-link"
               (click)="navigateTo(service.url); $event.preventDefault()">
              {{service.name}}
              <small>{{service.keywords}}</small>
            </a>
          </div>
        </div>
  
        <!-- Mobile Products -->
        <div class="mobile-nav-section">
          <button class="mobile-section-toggle"
                  (click)="toggleProductsDropdown()">
            {{translate('nav.products')}}
            <i class="fa-solid fa-chevron-down"
               [class.rotated]="isProductsDropdownOpen"></i>
          </button>
          
          <div class="mobile-dropdown"
               [class.open]="isProductsDropdownOpen">
            <div class="mobile-dropdown-header">
              <h4>სასახლეები, სუდარები, მაცივრები</h4>
            </div>
            <a *ngFor="let product of getCurrentProducts()"
               [href]="product.url"
               class="mobile-nav-link"
               (click)="navigateTo(product.url); $event.preventDefault()">
              {{product.name}}
              <small>{{product.keywords}}</small>
            </a>
          </div>
        </div>
  
        <!-- Mobile Direct Links -->
        <a [routerLink]="[currentLanguage, 'about']" 
           class="mobile-nav-link main-link"
           (click)="isMenuOpen = false">
          {{translate('nav.about')}}
        </a>
        
        <a [routerLink]="[currentLanguage, 'contact']"
           class="mobile-nav-link main-link"
           (click)="isMenuOpen = false">
          {{translate('nav.contact')}}
        </a>
        
        <a [routerLink]="[currentLanguage, 'locations']"
           class="mobile-nav-link main-link"
           (click)="isMenuOpen = false">
          {{translate('nav.locations')}}
        </a>
  
        <!-- Mobile Phone -->
        <div class="mobile-contact">
          <a href="tel:+995599069898" 
             class="mobile-phone-link"
             (click)="callPhone(); $event.preventDefault()">
            <i class="fa-solid fa-phone-volume"></i>
            {{translate('header.call_24_7')}}
          </a>
        </div>
  
        <!-- Mobile Language Selector -->
        <div class="mobile-language">
          <app-language-selector 
            [currentLanguage]="currentLanguage"
            (languageChange)="onLanguageChange($event)">
          </app-language-selector>
        </div>
      </div>
    </nav>
  </header>
  
  <!-- SEO-focused breadcrumb -->
  <nav class="breadcrumb-nav" aria-label="Breadcrumb">
    <app-breadcrumb [currentLanguage]="currentLanguage"></app-breadcrumb>
  </nav>
  
  <!-- Hidden SEO content for better indexing -->
  <div class="seo-hidden-content" aria-hidden="true">
    <h2>რიტუალ სერვისი - დამკრძალავი ბიურო თბილისში</h2>
    <p>
      <strong>damkrdzalavi biuro</strong> - პროფესიონალური <strong>სარიტუალო სახლი</strong>. 
      <strong>ბალზამირება</strong> (balzamireba), <strong>კატაფალკა</strong> (katafalka), 
      <strong>ქვაზე ხატვა</strong> (qvaze xatva), <strong>გადასვენება</strong> (gadasveneba), 
      <strong>საფლავის მოპირკეთება</strong> (mopirketeba).
    </p>
    
    <ul>
      <li>დაკრძალვის სერვისები - dakrdzalva</li>
      <li>მიცვალებული - micvalebuli</li>
      <li>მიცვალებულის ჩაცმა - micvalebulis chacma</li>
      <li>სამგლოვიარო - samgloviaro</li>
      <li>დასაფლავება - dasaflaveba</li>
      <li>საპანაშვიდე - sapanashvide</li>
      <li>სუდარა - sudara</li>
      <li>სასახლეები - sasaxleebi</li>
    </ul>
  </div>